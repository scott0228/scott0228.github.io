
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>IE8 正式版的 bug? - 小虫的胡言亂語</title>
  <meta name="author" content="Scott Yang">

  
  <meta name="description" content="base 元素可規定頁面中所有鏈接的基準 URL。
通常情況下，瀏覽器會從當前文檔的 URL 中提取相應的元素來填寫相對 URL 中的空白。
使用 base 標籤可以改變這一點。瀏覽器隨後將不再使用當前文檔的 URL，而使用指定的基本 URL 來解析所有的相對 URL。這其中包括 a、img、 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://scott0228.github.io/blog/2009/03/20/ie8-bug/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="小虫的胡言亂語" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7310858-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">小虫的胡言亂語</a></h1>
  
    <h2>小虫的各種記錄.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:scott0228.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">IE8 正式版的 Bug?</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-03-20T15:43:00+08:00" pubdate data-updated="true"></time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
base 元素可規定頁面中所有鏈接的基準 URL。
通常情況下，瀏覽器會從當前文檔的 URL 中提取相應的元素來填寫相對 URL 中的空白。
使用 base 標籤可以改變這一點。瀏覽器隨後將不再使用當前文檔的 URL，而使用指定的基本 URL 來解析所有的相對 URL。這其中包括 a、img、link、form 標籤中的 URL。

但是在 IE8 裡面有個 bug，就算設定了 base標籤，它還是會使用當前的 URL 提取相應的元素，然後再用 base 設定的 url 去提取元素。如此一來，造成 server 不必要的負擔，不知道有沒有人有解決方式？還是這其實是我對標準的誤解？

假設我有下面這個 index.html 放在 ui 的目錄：
<textarea class="xml" name="code" rows="10" cols="70"><html>
	<head>
		<title>Document</title>
		<base href="http://scott0228.blogspot.com/">
		<link type="text/css" rel="stylesheet" media="screen" href="main.css">
		<link type="text/css" rel="stylesheet" media="screen" href="main2.css">
		<script type="text/javascript" src="mootools.js"></script>
		<script type="text/javascript" src="mootools2.js"></script>
		<script type="text/javascript" src="mootools3.js"></script>
		<link type="text/css" rel="stylesheet" media="screen" href="main3.css">
	</head>
	<body>
		<a href="scripts/">Scripts</a>
		<img src="logo.png" alt="MD Logo" />
	</body>
</html>

</textarea>
當利用 IE8 去開 index.html 時，其會對 server 做以下的 request：
<pre>
http://scott0228.blogspot.com/ui/index.html
http://scott0228.blogspot.com/main.css
http://scott0228.blogspot.com/main2.css
http://scott0228.blogspot.com/mootools.js
http://scott0228.blogspot.com/ui/mootools2.js
http://scott0228.blogspot.com/ui/mootools3.js
http://scott0228.blogspot.com/ui/main3.css
http://scott0228.blogspot.com/mootools2.js
http://scott0228.blogspot.com/mootools3.js
http://scott0228.blogspot.com/main3.css
</pre>
IE8 對於 base 的正確處理只會到第一個 script 之前，之後的 script 及 link 都會取兩次，一次是 base 的，一次是當前的 url
目前 IE8 對於第一個 script 的 src 只取以 base 為基楚的檔案，第二個以後，及其之後的 link 都會取兩次，這樣會造成 server 的 loading 及程式的錯誤，不知道有法有辦法解決？</div>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Scott Yang</span></span>

      








  


<time datetime="2009-03-20T15:43:00+08:00" pubdate data-updated="true"></time>
      


    </p>
    
      <div class="sharing">
  
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/03/15/java-transaction-strategies/" title="Previous Post: Java Transaction Strategies">&laquo; Java Transaction Strategies</a>
      
      
        <a class="basic-alignment right" href="/blog/2009/03/24/eclipse-highlight/" title="Next Post: 如何設定 Eclipse 中變數的 highlight">如何設定 Eclipse 中變數的 highlight &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/android' style='font-size: 105.21739130434783%'>android(2)</a> <a href='/blog/categories/css' style='font-size: 102.6086956521739%'>css(1)</a> <a href='/blog/categories/database' style='font-size: 105.21739130434783%'>database(2)</a> <a href='/blog/categories/dot-net' style='font-size: 102.6086956521739%'>dot net(1)</a> <a href='/blog/categories/eclipse' style='font-size: 105.21739130434783%'>eclipse(2)</a> <a href='/blog/categories/git' style='font-size: 102.6086956521739%'>git(1)</a> <a href='/blog/categories/groovy' style='font-size: 102.6086956521739%'>groovy(1)</a> <a href='/blog/categories/html' style='font-size: 102.6086956521739%'>html(1)</a> <a href='/blog/categories/ios' style='font-size: 105.21739130434783%'>ios(2)</a> <a href='/blog/categories/ipad' style='font-size: 102.6086956521739%'>ipad(1)</a> <a href='/blog/categories/java' style='font-size: 160.0%'>java(23)</a> <a href='/blog/categories/javascript' style='font-size: 107.82608695652173%'>javascript(3)</a> <a href='/blog/categories/jquery' style='font-size: 102.6086956521739%'>jquery(1)</a> <a href='/blog/categories/linux' style='font-size: 110.43478260869566%'>linux(4)</a> <a href='/blog/categories/mac' style='font-size: 107.82608695652173%'>mac(3)</a> <a href='/blog/categories/network' style='font-size: 102.6086956521739%'>network(1)</a> <a href='/blog/categories/oracle' style='font-size: 102.6086956521739%'>oracle(1)</a> <a href='/blog/categories/soft' style='font-size: 102.6086956521739%'>soft(1)</a> <a href='/blog/categories/svn' style='font-size: 102.6086956521739%'>svn(1)</a> <a href='/blog/categories/test' style='font-size: 102.6086956521739%'>test(1)</a> <a href='/blog/categories/titanium' style='font-size: 102.6086956521739%'>titanium(1)</a> <a href='/blog/categories/usb,-bing-du' style='font-size: 102.6086956521739%'>usb、病毒(1)</a> <a href='/blog/categories/virtualbox' style='font-size: 102.6086956521739%'>virtualbox(1)</a> <a href='/blog/categories/vnc' style='font-size: 102.6086956521739%'>vnc(1)</a> <a href='/blog/categories/vpn' style='font-size: 102.6086956521739%'>vpn(1)</a> <a href='/blog/categories/web' style='font-size: 102.6086956521739%'>web(1)</a> <a href='/blog/categories/windows' style='font-size: 131.30434782608697%'>windows(12)</a> <a href='/blog/categories/xcode' style='font-size: 102.6086956521739%'>xcode(1)</a> <a href='/blog/categories/xp' style='font-size: 102.6086956521739%'>xp(1)</a> <a href='/blog/categories/dan-che' style='font-size: 105.21739130434783%'>單車(2)</a> <a href='/blog/categories/huan-dao' style='font-size: 102.6086956521739%'>環島(1)</a> <a href='/blog/categories/cheng-shi' style='font-size: 110.43478260869566%'>程式(4)</a> <a href='/blog/categories/wang-lu' style='font-size: 115.65217391304348%'>網路(6)</a> <a href='/blog/categories/ruan-ti' style='font-size: 128.69565217391303%'>軟體(11)</a> </span>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/02/blog-shi-yong-ruan-ti/">Blog 使用軟體</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/01/kai-zhang/">開張</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/21/pdf/">PDF 簡轉繁</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/05/sql-server-deadlock/">如何追查 SQL Server 的 Deadlock</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/07/24/windows-2008-vpn-server/">Windows 2008 單一網卡架 VPN Server</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Scott Yang -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>. Design by <a href="http://octopressthemes.com">Octopress Themes</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'scott0228';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>









</body>
</html>
